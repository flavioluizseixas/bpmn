/* =====================================================
   Bizagi-like Theme for bpmn-js (Marker + CSS Styling)
   ===================================================== */

#canvas { height: 100vh; }

/* ===== Base visual ===== */

.djs-element .djs-visual rect {
  rx: 6px;
  ry: 6px;
  stroke-width: 2px;
}

.djs-element .djs-visual circle,
.djs-element .djs-visual polygon {
  stroke-width: 2px;
}

.djs-element .djs-label,
.djs-element .djs-visual text {
  font-family: Arial, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  font-size: 12px;
  fill: #2b2b2b;
}

.djs-connection .djs-visual path { stroke-width: 2px; }

/* ===== Tasks / Subprocess ===== */
.djs-element.bizagi-task:not(.djs-connection) .djs-visual > :nth-child(1),
.djs-element.bizagi-subprocess:not(.djs-connection) .djs-visual > :nth-child(1) {
  fill: #EAF2FF !important;
  stroke: #0B66C3 !important;
}

/* ===== Gateways ===== */
.djs-element.bizagi-gateway:not(.djs-connection) .djs-visual > :nth-child(1) {
  fill: #FFF3BF !important;
  stroke: #B59A00 !important;
}

/* ===== Pools / Lanes ===== */
.djs-element.bizagi-participant:not(.djs-connection) .djs-visual > :nth-child(1) {
  fill: #FFFFFF !important;
  stroke: #BDBDBD !important;
}

/* ===== Start / End ===== */
.djs-element.bizagi-start-event:not(.djs-connection) .djs-visual circle {
  stroke: #2E7D32 !important;
  stroke-width: 3px !important;
}
.djs-element.bizagi-start-event:not(.djs-connection) .djs-visual circle:first-of-type {
  fill: #DFF5DF !important;
}

.djs-element.bizagi-end-event:not(.djs-connection) .djs-visual circle {
  stroke: #C62828 !important;
  stroke-width: 4px !important;
}
.djs-element.bizagi-end-event:not(.djs-connection) .djs-visual circle:first-of-type {
  fill: #F9D6D5 !important;
}

/* ===== Intermediate rings ===== */
.djs-element.bizagi-intermediate-catch:not(.djs-connection) .djs-visual circle,
.djs-element.bizagi-intermediate-throw:not(.djs-connection) .djs-visual circle,
.djs-element.bizagi-message-catch:not(.djs-connection) .djs-visual circle,
.djs-element.bizagi-message-throw:not(.djs-connection) .djs-visual circle {
  stroke: #8A8441 !important; /* oliva Bizagi */
  stroke-width: 2px !important;
}

.djs-element.bizagi-intermediate-catch:not(.djs-connection) .djs-visual circle:first-of-type,
.djs-element.bizagi-intermediate-throw:not(.djs-connection) .djs-visual circle:first-of-type,
.djs-element.bizagi-message-catch:not(.djs-connection) .djs-visual circle:first-of-type,
.djs-element.bizagi-message-throw:not(.djs-connection) .djs-visual circle:first-of-type {
  fill: #FFFFFF !important;
}

.djs-element.bizagi-intermediate-catch:not(.djs-connection) .djs-visual circle:last-of-type,
.djs-element.bizagi-intermediate-throw:not(.djs-connection) .djs-visual circle:last-of-type,
.djs-element.bizagi-message-catch:not(.djs-connection) .djs-visual circle:last-of-type,
.djs-element.bizagi-message-throw:not(.djs-connection) .djs-visual circle:last-of-type {
  fill: none !important;
}

/* ===== Catch icon outline ===== */
.djs-element.bizagi-intermediate-catch:not(.djs-connection)
.djs-visual :is(path, polygon, rect, line, polyline) {
  fill: none !important;
  stroke: #4A4A4A !important;
  stroke-width: 1.4px !important;
  stroke-linejoin: round !important;
  stroke-linecap: round !important;
}

/* ===== Throw icon filled + outline ===== */
.djs-element.bizagi-intermediate-throw:not(.djs-connection)
.djs-visual :is(path, polygon, rect, line, polyline) {
  fill: #4A4A4A !important;
  stroke: #111111 !important;
  stroke-width: 1.6px !important;
  stroke-linejoin: round !important;
  stroke-linecap: round !important;
  paint-order: stroke fill !important;
  vector-effect: non-scaling-stroke !important;
  fill-rule: nonzero !important;
}

/* ===== Message catch ===== */
.djs-element.bizagi-message-catch:not(.djs-connection)
.djs-visual :is(path, polygon, rect, line, polyline) {
  fill: none !important;
  stroke: #4A4A4A !important;
  stroke-width: 1.5px !important;
  stroke-linejoin: round !important;
  stroke-linecap: round !important;
  paint-order: stroke fill !important;
  vector-effect: non-scaling-stroke !important;
}
